---

![](https://www.fastradius.com/assets/uploads/heroes/FastRadius_018_resized.jpg)

---

# The __Factory__ of the __Future__

### Clark Kampfe

### Lone Star Elixir - 2019-03-02

![](https://www.fastradius.com/assets/uploads/heroes/FastRadius_018_resized.jpg)

---

# talk goals

- context, history
- our experience, reflections


![](https://www.fastradius.com/assets/uploads/heroes/FastRadius_018_resized.jpg)

---

# Fast Radius

- Production-quality 3D printing manufacturing
- Chicago
- 50 people
- 3 devs
- Elixir

![](https://www.fastradius.com/assets/uploads/heroes/FastRadius_018_resized.jpg)


---

<!-- MILL -->

# Manufacturing 

^Manufacturing is not just technology, but, crucially, process

^Manufacturing and information have been linked right from the get go.

^Mill, UK, 14th century, Flour

![](https://upload.wikimedia.org/wikipedia/commons/6/66/WaterMill_Interior_MotionBlur.jpg)

---

## Process
- 'pro' - 'cedere': "forward, to go"
- a series of actions or steps taken in order to achieve a particular end

![](https://upload.wikimedia.org/wikipedia/commons/1/1b/The_Caxton_Celebration_-_William_Caxton_showing_specimens_of_his_printing_to_King_Edward_IV_and_his_Queen.jpg)

---

## Produce
- Latin: 'pro' - 'ducere': "forward, to lead"
- create or form (something) as part of a physical, biological, or chemical process

![](https://upload.wikimedia.org/wikipedia/commons/1/1b/The_Caxton_Celebration_-_William_Caxton_showing_specimens_of_his_printing_to_King_Edward_IV_and_his_Queen.jpg)

---


^Cuneiform. Writing.

^An account of barley rations issued monthly to adults and children written in cuneiform script on a clay tablet, written in year 4 of King Urukagina, c. 2350 BC

![](/Users/clark/Downloads/Issue_of_barley_rations.JPG)


---

<!-- Commemoration (in 1877) of the first printed book in ~1477 //// -->

^Process, in many ways, reproduction.

^This is kind of funny, actually, because if you look at the two words,

^Process, and Produce, they have similar definitions

![](https://upload.wikimedia.org/wikipedia/commons/1/1b/The_Caxton_Celebration_-_William_Caxton_showing_specimens_of_his_printing_to_King_Edward_IV_and_his_Queen.jpg)

---

^Interchangeable parts - Late 1700s

^Jean-Baptiste Vaquette de Gribeauval

^French General,

^Honore Blanc

^COMPARISON AGAINST A MASTER

^Software people might know this as testing

Standards, Measuring, QA, inventory

![](/Users/clark/Downloads/Gribeauval_system_elements.jpg)

---

^Steam Engine

^Early 1700s

^Massive efficiency
^Could run all the time
^Wouldn't get tired like a horse

![](https://upload.wikimedia.org/wikipedia/commons/0/0f/Jacob_Leupold_Steam_engine_1720.jpg)

---

^Log table
^For engineering, statistics, shipping/navigation

![](/Users/clark/Downloads/Logarithmorum_Chilias_Prima_page_0-67.jpg)

---

^Charles Babbage
^Ada Lovelace
^Difference Engine, 1822

![](/Users/clark/Downloads/Charles_Babbage_by_Antoine_Claudet_c1847-51-crop.jpg)
![](/Users/clark/Downloads/Ada_Byron_daguerreotype_by_Antoine_Claudet_1843_or_1850.jpg)
![](/Users/clark/Downloads/Difference_engine_plate_1853.jpg)

---

^Lovelace's "Note G", the first program ever written, to calculate a series of the Bernoulli Numbers
^Unfortunately the machine for which she wrote the program was never built, so she never got to run the program.
^In this way, having had her project canned before completion, she really is the first programmer.

![](/Users/clark/Downloads/Diagram_for_the_computation_of_Bernoulli_numbers copy.jpg)

---

^Assembly line, Ford Motor Company, early 1900s

![](/Users/clark/Downloads/A-line1913.jpg)

---

^B-24 Liberators at a plant in Texas

^Major innovations in all kinds of technology: aviation, transportation, weapons, etc.

![](/Users/clark/Downloads/pic_giant_051415_SM_B-24-Liberator-Plant-2.jpg)


---

^Alan Turing

^Cracked the Engima

^Invented the modern model of computation

![](/Users/clark/Downloads/1*FCZMG2AgKPDXqXyOtV4faA.png)

---

^1950s/60s

![](/Users/clark/Downloads/Used_Punchcard_\(5151286161\).jpg)

---

^1960s/1970s

![](/Users/clark/Downloads/Arpanet-1972-Map.png)

---

# Today


---

^Reprap

^You may know 3D printing, but if you don't
^3D printing is manufacturing by the precise addition of raw material

![](https://upload.wikimedia.org/wikipedia/commons/f/f2/Reprap_at_Metalab.jpg)


---

![](https://upload.wikimedia.org/wikipedia/commons/a/a3/Witten_Zentralbibliothek_Makerbot_Replicator.jpg)

---

^End to end production factory
^From sale to design to production, QA, fulfillment, reorder, everything

TODO: SHOTS OF THE FACTORY


---

^Why do you want to own a piece of that?
^Why not just outsource it to SAP, or any of the other providers
^Change. Adapatation
^Software engineers knows this already, some people have called it agile,
^But it's the same desire.
^The degree to which you can usefully change something is dependent on the degree to which you understand it.

TODO: SHOTS OF THE PRINTERS


---

TODO: SHOTS OF PARTS PRINTING ON THE PRINTERS

---


TODO: SHOTS OF THE IPADS WITH WORK ORDERS ON THEM

---

![](/Users/clark/Downloads/1*wVcT8A29lBkN0gXFPJUF3w copy.png)

---

^TODO needs pic

^We're trying to be a business.

^We're trying to prove that our product, production-quality additive parts, is something people want

^We're also trying to run a business, which has a lot of moving parts to it other than pure delivery

^You have to be able to take orders, modify them, produce them, QA them, ship them, etc.

^And, crucially, you ahve to be able to adapt your process along the way. You rely on a lot of faulty assumptions, and you have to adjust your response as you learn why your assumptions were incorrect. 

^This isn't like cracking a safe, where if you get the code, you win the business.

---

^Commit history


![](/Users/clark/Desktop/Screen Shot 2019-02-24 at 10.21.06 PM.png)

---

^rpi: temp
^rpi: get on the box with observer
^rpi: libcluster as discovery
^phoenix-app: model processing background work, idempotent
^ipads: WORK ORDERS, in the plant, via WEBSOCKET

---

# libcluster

![](/Users/clark/Desktop/Screen Shot 2019-02-26 at 11.58.23 AM.png)

---

^libcluster

![](/Users/clark/Desktop/Screen Shot 2019-02-26 at 11.58.23 AM.png)


---

^TODO needs pic

# I2C

^rpi temp

^TODO pic of RPI Pinout

^I2C protocol is ???

^I didn't know this protocol

https://github.com/fhunleth/elixir_ale

---

![](/Users/clark/Desktop/Screen Shot 2019-02-26 at 11.50.16 AM.png)

---

```erlang
%% Find object code for module Mod
{Mod, Bin, File} = code:get_object_code(Mod),

%% and load it on all nodes including this one
{ResL, _} = rpc:multicall(code, load_binary, [Mod, File, Bin]),
```

--- 

```sh
$ iex --name me \
      --cookie YOUR_COOKIE_HERE \
      --remsh nodename@IP_OF_NODE_HERE -e ":observer.start()"
```

---

^Live console on the Pi!
^See debugging stuff!
^Run commands

![](/Users/clark/Desktop/Screen Shot 2019-02-26 at 12.16.38 PM.png)

---

^Observer on the Pi
^View load
^See IO

![](/Users/clark/Desktop/Screen Shot 2019-02-26 at 12.16.53 PM.png)


---

# libcluster

- Node self-discovery
- Dev machine to prod machine

---

^TODO needs pic

```
           +-----------------+               
           |                 |               
           |                 |               
           |some supervision |               
           |    hierarchy    |               
           |                 |               
           |                 |               
           +-----------------+               
                    |                        
       +------------|--------------+         
       |                           |         
       v                           v         
+------------+           +------------------+
|            |           |                  |
|            |           |                  |
| find work  |---------->|     do work      |
|            |           |                  |
|            |           |                  |
+------------+           +------------------+
```


---

```elixir
# Someone modified the work order
|> Ecto.Multi.run(:work_order, fn _repo, %{changeset: changeset} ->
  changeset
  |> Repo.update()
  |> case do
    {:ok, work_order} ->
      work_order = get_work_order!(work_order.id)
      FastRadiusWeb.Endpoint.broadcast("refresh:all", "refresh", %{
        "data" => json
      })
     error ->
       error
    end
end)
# ...
```


---

^TODO needs pic

# REFLECTIONS


---

^TODO needs pic

# OTP is awesome

^You'd be surprised how many failures actually are emphemeral
^Especially with hardware
^Hardware is bad, it fails all the time, but inconsistently
^Especially networks

---

^TODO needs pic

# OTP is not magic

^You still have to do design work.
^You still have to understand OTP
^This is real work
^If you use OTP wrong, it can hurt you


---

^TODO needs pic

# choice is emotional

^So, we chose Elixir to bet our business on.

^A lot of folks like to maintain the myth that this is a "rational" "objective" sort of thing, but I think that leads us to fool ourselves and make poor choices.


---

^TODO needs pic

# Elixir does __not__ do everything

^you want a constrained system. you do not want a system that does everything

^it does serve amazingly well as a control plane

^This reflects its designed nature. It was made for a problem,
^ rather than, as Alan Kay likes to say, "inverse vandalsim", because we could


---

^TODO needs pic

# to understand: __separate__

^things are made distinct to understand

^you see this all the time: fields of study, animal species, and in software

---


---

^TODO needs pic

# Process

- Latin: "procedere"
- "go forward"

---

# The __Factory__ of the __Future__

### Clark Kampfe

### Lone Star Elixir - 2019-03-02

![](https://www.fastradius.com/assets/uploads/heroes/FastRadius_018_resized.jpg)

---


^Planning, statistics

<!-- up and to the right -->

^Up and to the right

^If you look at the history of humans applying technology to things, it kind of looks like this

^Today, we're somewhere on the right side of this graph.

^Or, maybe the left. I'll let you be the judge.


![](/Users/clark/Desktop/Screen Shot 2019-02-24 at 5.37.25 PM.png)
